<!--

OpenCraft License

Copyright (c) 2009 Graham Edgecombe and Brett Russell.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright notice,
      this list of conditions and the following disclaimer.
      
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
      
    * Neither the name of the OpenCraft nor the names of its
      contributors may be used to endorse or promote products derived from
      this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
POSSIBILITY OF SUCH DAMAGE.

-->
<packets>
  <incoming>
    <packet>
      <opcode>0</opcode>
      <name>authentication_request</name>
      <fields>
        <field>
          <name>protocol_version</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>username</name>
          <type>STRING</type>
        </field>
        <field>
          <name>verification_key</name>
          <type>STRING</type>
        </field>
        <field>
          <name>unused</name>
          <type>BYTE</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>5</opcode>
      <name>set_tile</name>
      <fields>
        <field>
          <name>x</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>z</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>y</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>mode</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>type</name>
          <type>SHORT</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>8</opcode>
      <name>move_and_rotate</name>
      <fields>
        <field>
          <name>id</name> <!-- held block -->
          <type>SHORT</type>
        </field>
        <field>
          <name>x</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>z</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>y</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>rotation</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>look</name>
          <type>BYTE</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>13</opcode>
      <name>message</name>
      <fields>
        <field>
          <name>id</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>message</name>
          <type>STRING</type>
        </field>
      </fields>
    </packet>
        <packet>
      <opcode>16</opcode>
      <name>ext_info</name>
      <fields>
        <field>
          <name>app_name</name>
          <type>STRING</type>
        </field>
        <field>
          <name>extension_count</name>
          <type>SHORT</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>17</opcode>
      <name>ext_entry</name>
      <fields>
        <field>
          <name>ext_name</name>
          <type>STRING</type>
        </field>
        <field>
          <name>ext_version</name>
          <type>INT</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>19</opcode>
      <name>custom_block_support</name>
      <fields>
        <field>
          <name>support_level</name>
          <type>BYTE</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>43</opcode>
      <name>ping</name>
      <fields>
        <field>
          <name>server_to_client</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>data</name>
          <type>SHORT</type>
        </field>
      </fields>
    </packet>
  </incoming>
  <outgoing>
    <packet>
      <opcode>0</opcode>
      <name>authentication_response</name>
      <fields>
        <field>
          <name>protocol_version</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>server_name</name>
          <type>STRING</type>
        </field>
        <field>
          <name>server_message</name>
          <type>STRING</type>
        </field>
        <field>
          <name>user_type</name>
          <type>BYTE</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>2</opcode>
      <name>level_init</name>
      <fields>
        <field>
          <name>size</name>
          <type>INT</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>3</opcode>
      <name>level_block</name>
      <fields>
        <field>
          <name>chunk_length</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>chunk_data</name>
          <type>BYTE_ARRAY</type>
        </field>
        <field>
          <name>percent</name>
          <type>BYTE</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>4</opcode>
      <name>level_finish</name>
      <fields>
        <field>
          <name>width</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>depth</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>height</name>
          <type>SHORT</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>6</opcode>
      <name>set_tile</name>
      <fields>
        <field>
          <name>x</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>z</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>y</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>type</name>
          <type>SHORT</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>7</opcode>
      <name>add_entity</name>
      <fields>
        <field>
          <name>id</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>name</name>
          <type>STRING</type>
        </field>
        <field>
          <name>x</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>z</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>y</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>rotation</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>look</name>
          <type>BYTE</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>8</opcode>
      <name>teleport</name>
      <fields>
        <field>
          <name>id</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>x</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>z</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>y</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>rotation</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>look</name>
          <type>BYTE</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>9</opcode>
      <name>move_and_rotate</name>
      <fields>
        <field>
          <name>id</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>delta_x</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>delta_z</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>delta_y</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>delta_rotation</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>delta_look</name>
          <type>BYTE</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>10</opcode>
      <name>rotate</name>
      <fields>
        <field>
          <name>id</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>delta_rotation</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>delta_look</name>
          <type>BYTE</type>
        </field>
      </fields>
    </packet>  
    <packet>
      <opcode>11</opcode>
      <name>move</name>
      <fields>
        <field>
          <name>id</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>delta_x</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>delta_z</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>delta_y</name>
          <type>BYTE</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>12</opcode>
      <name>remove_entity</name>
      <fields>
        <field>
          <name>id</name>
          <type>BYTE</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>13</opcode>
      <name>message</name>
      <fields>
        <field>
          <name>id</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>message</name>
          <type>STRING</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>14</opcode>
      <name>disconnect</name>
      <fields>
        <field>
          <name>reason</name>
          <type>STRING</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>15</opcode>
      <name>set_user_type</name>
      <fields>
        <field>
          <name>user_type</name>
          <type>BYTE</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>16</opcode>
      <name>ext_info</name>
      <fields>
        <field>
          <name>app_name</name>
          <type>STRING</type>
        </field>
        <field>
          <name>extension_count</name>
          <type>SHORT</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>17</opcode>
      <name>ext_entry</name>
      <fields>
        <field>
          <name>ext_name</name>
          <type>STRING</type>
        </field>
        <field>
          <name>ext_version</name>
          <type>INT</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>19</opcode>
      <name>custom_block_support</name>
      <fields>
        <field>
          <name>support_level</name>
          <type>BYTE</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>20</opcode>
      <name>hold_this</name>
      <fields>
        <field>
          <name>block_to_hold</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>prevent_change</name>
          <type>BYTE</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>22</opcode>
      <name>add_player_name</name>
      <fields>
        <field>
          <name>id</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>player_name</name>
          <type>STRING</type>
        </field>
        <field>
          <name>list_name</name>
          <type>STRING</type>
        </field>
        <field>
          <name>group_name</name>
          <type>STRING</type>
        </field>
        <field>
          <name>group_rank</name>
          <type>BYTE</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>33</opcode>
      <name>ext_add_entity</name>
      <fields>
        <field>
          <name>id</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>name</name>
          <type>STRING</type>
        </field>
        <field>
          <name>skin_name</name>
          <type>STRING</type>
        </field>
        <field>
          <name>x</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>z</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>y</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>rotation</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>look</name>
          <type>BYTE</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>24</opcode>
      <name>remove_player_name</name>
      <fields>
        <field>
          <name>id</name>
          <type>SHORT</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>30</opcode>
      <name>set_map_appearance</name>
      <fields>
        <field>
          <name>texture_url</name>
          <type>STRING</type>
        </field>
        <field>
          <name>side_block</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>edge_block</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>side_level</name>
          <type>SHORT</type>
        </field>
      </fields>
	</packet>
    <packet>
      <opcode>30</opcode>
      <name>set_map_appearance_2</name>
      <fields>
        <field>
          <name>texture_url</name>
          <type>STRING</type>
        </field>
        <field>
          <name>side_block</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>edge_block</name>
          <type>BYTE</type>
        </field>
Z        <field>
          <name>side_level</name>
          <type>SHORT</type>
        </field>
         <field>
          <name>cloud_level</name>
          <type>SHORT</type>
        </field>
         <field>
          <name>view_distance</name>
          <type>SHORT</type>
        </field>
      </fields>
	</packet>
    <packet>
      <opcode>32</opcode>
      <name>hack_control</name>
      <fields>
        <field>
          <name>flying</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>noclip</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>speeding</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>spawn_control</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>third_person_view</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>jump_height</name>
          <type>SHORT</type>
        </field>
      </fields>
    </packet>
  <packet>
      <opcode>25</opcode>
      <name>set_color</name>
      <fields>
        <field>
          <name>color</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>r</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>g</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>b</name>
          <type>SHORT</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>43</opcode>
      <name>ping</name>
      <fields>
        <field>
          <name>server_to_client</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>data</name>
          <type>SHORT</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>35</opcode>
      <name>define_block</name>
      <fields>
        <field>
          <name>id</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>name</name>
          <type>STRING</type>
        </field>
        <field>
          <name>solid</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>movement_speed</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>texture_top</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>texture_side</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>texture_bottom</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>emits_light</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>walk_sound</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>full_bright</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>shape</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>block_draw</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>fog_density</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>fog_r</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>fog_g</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>fog_b</name>
          <type>BYTE</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>37</opcode>
      <name>define_block_ext</name>
      <fields>
        <field>
          <name>id</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>name</name>
          <type>STRING</type>
        </field>
        <field>
          <name>solid</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>movement_speed</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>texture_top</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>texture_left</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>texture_right</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>texture_front</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>texture_back</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>texture_bottom</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>emits_light</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>walk_sound</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>full_bright</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>min_x</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>min_y</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>min_z</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>max_x</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>max_y</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>max_z</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>block_draw</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>fog_density</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>fog_r</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>fog_g</name>
          <type>BYTE</type>
        </field>
        <field>
          <name>fog_b</name>
          <type>BYTE</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>28</opcode>
      <name>block_permissions</name>
      <fields>
        <field>
          <name>id</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>place</name>
          <type>byte</type>
        </field>
        <field>
          <name>delete</name>
          <type>byte</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>36</opcode>
      <name>remove_block_definition</name>
      <fields>
        <field>
          <name>id</name>
          <type>SHORT</type>
        </field>
      </fields>
    </packet>
    <packet>
      <opcode>44</opcode>
      <name>inventory_order</name>
      <fields>
        <field>
          <name>order</name>
          <type>SHORT</type>
        </field>
        <field>
          <name>id</name>
          <type>SHORT</type>
        </field>
      </fields>
    </packet>
</outgoing>
</packets>